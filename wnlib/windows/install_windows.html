<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>install_windows</title>
</head>
<body style="color: rgb(0, 102, 0); background-color: rgb(255, 255, 255);">
<div style="text-align: center;"><big><span style="font-weight: bold;">
This file describes how
to build and use wnlib on Windows.</span></big>
<div style="text-align: left;"><big><small><br>
(There are two versions of this file, README.html and README.txt.&nbsp;
README.html is the master copy, README.txt is autogenerated from it).<br>
</small></big></div>
</div>
<big><span style="font-weight: bold;"><br>
</span><small><span style="font-weight: bold; text-decoration: underline;">Overview<br>
</span><br>
This readme file is in the directory wnlib\windows.&nbsp; If you've
just unzipped this
package, you will find the h, src, and examples subdirectories of this
directory empty.&nbsp; The selftest directory will contain a bunch of C
files (they will look ugly in notepad at this point because they
haven't been translated to DOS form yet).<br>
<br>
The source for wnlib is in the directory ..\acc\*.&nbsp; Keep out of
there.&nbsp; That area is
for unix builds, we build in
this separate area for windows.&nbsp; The first thing you will have to
do is copy the source from the windows to the windows area according to
the following instructions.&nbsp; (We
didn't want to
duplicate it in the zip file).<br>
<br>
<br>
<span style="text-decoration: underline; font-weight: bold;">Copying
the source from the unix area to the windows area</span><br
 style="text-decoration: underline; font-weight: bold;">
<br>
Go to the wnlib\windows directory and run copysrc.bat, just click on it
in windows explorer.<br>
<br>
- h directory should now contain about 80 wn*.h files<br>
- src</small></big><big><small> directory</small></big><big><small> should now contain about 171
wn*.c files<br>
- examples</small></big><big><small> directory</small></big><big><small> should now contain about 24
wnex_*.c files<br>
- selftest directory should now contain about 24 *.c files which were
already there before copysrc.bat ran<br>
- ..\doc\mantext directory should now contain about 85 *.txt files, and
main_man.html<br>
<br>
<br>
</small></big><big><small><span style="text-decoration: underline; font-weight: bold;"></span></small></big><big><small><span style="font-weight: bold; text-decoration: underline;">Building
your Application with wnlib<br>
<br>
The following directions are for building with Microsoft Visual
C++ 4.0.&nbsp; It is assumed they will apply reasonably well to other
environments.&nbsp; We are interested in hearing about your
successes/failures with other environments (see contact intormation
below and in the wnlib\README file).<br>
<br>
</small></big>
<div style="margin-left: 40px;"><big><small><span style="text-decoration: underline; font-weight: bold;">Build wnlib.lib</span></small></big><br>
<big><small>All the c files that are to be
compiled into wnlib.lib are in the src directory.<br>
</small></big><big><small>- Start your workspace with
"File" -&gt; "New" -&gt; "Project Workspace" -&gt; "Static Library"</small></big><big><small>.<br>
</small></big><big><small>- Specify "wnlib" as the project
name, and specify "location" as wnlib\windows\src.&nbsp; (note you have
to check on the location field, select it and right arrow to the end of
the field, and backspace away any extra you don't want there).</small></big><br>
<big><small>- Then "Insert" -&gt; "Files
into Project", select all of the C files and click "add".</small></big><br>
<big><small>- Set your settings with "Build"
-&gt; "Settings".</small></big><br>
<big><small>- Go to the C/C++ tab, and
select the category "preprocessor".</small></big><br>
<big><small>- Add "..\h" to the directories
to be searched for include files.</small></big><br>
<big><small>- Go to the Library tab, and set
the output file as "..\wnlib.lib"<br>
- Build.<br>
</small></big><big></big></div>
<big><small><br>
</small></big>
<div style="margin-left: 40px;"><big><small><span style="text-decoration: underline; font-weight: bold;">Build
selftest_main.exe</small></big><br>
<big><small>All the C files to test
wnlib.lib are in the selftest directory.</small></big><br>
<big></big><big><small>- Start your workspace with
"File" -&gt; "New" -&gt; "Project Workspace" -&gt; "Console Application"</small></big><big><small>.&nbsp; Name it "selftest" in
"wnlib\windows\selftest".</small></big><br>
<big><small></small></big><big><small>- Then "Insert" -&gt; "Files
into Project", select all of the C files and click "add".</small></big><br>
<big><small>- Set up the "Build" -&gt;
"Settings" like before, only specify that the program
.\selftest_main.exe is to be built, and include "..\wnlib.lib" at the
beginning of the objects/libs to be linked in.<br>
- Build<br>
- You can then execute the exectuable from the "Build" menu, or from
the "Start" -&gt; "Run" command.&nbsp; If it finishes without crashing,
your wnlib is in good health.&nbsp; The philosophy of the selftest code
is to run fairly silently as long as everything is OK, and crash if
anything goes wrong.<br>
<br>
<span style="font-weight: bold; text-decoration: underline;">Building
your application with wnlib</span><br>
Building your application is done basically the same way as building
the selftest, making sure you set up "wnlib\windows\wnlib\h" in your
C/C++ preprocessor include path and "wnlib\windows\wnlib.lib"
in your Link objects/libraries field.<br>
<br>
<span style="font-weight: bold; text-decoration: underline;">Summary of
use</span><br>
The library is wnlib\windows\wnlib.lib<br>
h files are in wnlib\windows\h<br>
Documentation is in wnlib\doc\mantext<br>
<span style="text-decoration: underline;">Projects:</span><br>
</small></big>
<div style="margin-left: 40px;"><big><small>wnlib.lib:
wnlib\windows\src\wnlib.*</small></big><br>
<big><small>selftest:
wnlib\windows\selftest\selftest.*</small></big><br>
<big></big><big></big><big><small><span style="font-weight: bold; text-decoration: underline;"></small></span></big><br>
<big><small><span style="font-weight: bold; text-decoration: underline;"></span></small></big></div>
</div>
<big><small><span style="font-weight: bold; text-decoration: underline;"><br>
Documentation<br>
<span style="text-decoration: underline;"></span><br>
After you have run copysrc.bat, and only after that, you can look at
the documentation in the </small></big><big><small> <a
 href="file:///home/wguava/wnlib/doc/mantext/main_man.html">..\doc\mantext\main_man.html</a>
file with Internet Explorer or your favorite web browser.&nbsp; Note
that main_man.html is just a master documentation file, with links to
the smaller text files (also viewable in your browser) in the same
directory.</small></big><br>
<big><small><span style="font-weight: bold; text-decoration: underline;"><br>
<br>
</span></small></big>
<div style="margin-left: 40px;"><big><small><span style="font-weight: bold; text-decoration: underline;">Using the
Examples</small></big><br>
<big><small><span style="font-weight: bold; text-decoration: underline;"></span></small></big><br>
<big><small>There is also the
wnlib\windows\examples directory.&nbsp; It is full of wnex_*.c
files.&nbsp; It is a supplement to the main_man.html documentation,
providing examples of use of the wnlib code.</small></big><br>
<big><small>The wnex_*.c files are
all independent of each other, separate programs
each containing a main(), that must be linked with wnlib.lib.&nbsp;
This means that if you want to run them on windows, you must use the
gui of your C building environment to manually create a separate
project/makefile for each one, and build them separately.&nbsp; Also,
unlike the selftest files, they produce a lot of output to stdout that
must be manually read to see if they are executing correctly.&nbsp; For
these reasons, we have not only compiled but not linked them on
Windows, and you
may encounter a link error here and there.</small></big><br>
<big><small></small></big><br>
<big><small>You can find which
example programs call the function you want to use
by searching them with the search facility in Windows Explorer, or grep
if you have one.</small></big><br>
<big></big></div>
<big><small><br>
<br>
<span style="font-weight: bold; text-decoration: underline;">Functionality
not supported on Windows<br></span>
<br>
The true random numbers (wnrndt.h, wnrndt.c) are just too unix
dependent and thus are not ported to Windows.&nbsp; The wn_popen() and
wn_pclose() functions were just leading to an unrecoverable Blue Screen
of Death (requiring a reboot) whenever I tried to use them, so they are
not available on Windows.&nbsp; This problem may have been limited to
the Microsoft Visual C++ 4.0 on ME we ported to, if anyone can get them
to work on some other Windows compiler / platform combination, please
let us know.&nbsp; The code is in src\wnio.c, conditionally compiled
out.<br>
<br>
<span style="font-weight: bold; text-decoration: underline;"><br>
Versions
Supported</span><br>
<br>
At this point, we have ported wnlib to Microsoft Visual C++ version 4.0
on Windows ME.&nbsp; We figure this means it should port to MSVC++ 6.0
on XP trivially.&nbsp; Very little of the code involves operating
systems calls, so a port to a new platform is generally pretty
easy.&nbsp;
Furthermore, we have restricted ourselves to using only using C as of
the ANSI/ISO 9899-1990 standard, so you'll have to dig up some really
ancient or isoteric C compilers to&nbsp; find one that can't handle
this code.&nbsp; wnlib has previously been ported to the VMS, Sun
Solaris, Red Hat &amp; SuSE Linux, hpux, and cygwin operating systems
using the cc,
acc, CC, gcc, &amp; g++ compilers.<br>
<br>
<br>
<span style="font-weight: bold; text-decoration: underline;"></span><span style="font-weight: bold; text-decoration: underline;">Cygwin</span><br
 style="font-weight: bold; text-decoration: underline;">
<br>
One free alternative to windows development is cygwin.&nbsp; Look it up
on the web at <a href="http://www.cygwin.com">http://www.cygwin.com</a>
.&nbsp; It is a free unix shell that runs under windows, that is you
can have one or more cygwin windows running unix commands on your
windows desktop while everything else remains running windows.<br>
<br>
There is no support for it, that is, there is support, but it costs
$10,000 for lifetime support, and $10,000 on a per-incident
basis.&nbsp; It has an X windows setup, but I recommend against using
it - it worked for me for a few weeks, then quit working.&nbsp; I
re-downloaded cygwin, but it kept not working and I gave up and went
back to using linux for graphics.<br>
<br>
But even without the X windows, it can be quite useful.&nbsp; You can
use the unix compilers gcc and g++ on it to build wnlib and your
programs, and create .exe files that can be run on Windows.&nbsp; wnlib
fully supports cygwin as a unix platform.&nbsp; You can run emacs under
cygwin, or just use your favorite windows editor to edit cygwin
files.&nbsp; This means you can do non-graphical C program development
on Windows without having to buy a C development enviroment.<br>
<br>
You have a choice of how much to download when you get Cygwin, and you
get a pretty bare bones setup if you default everything.&nbsp; One nice
thing is it's easy to go back and ask for more incrementally if you
need it.&nbsp; It usually gives you the option of downloading source
for what you get, say "no" if you want to save space.&nbsp; I
downloaded a ton of stuff, with source, and it all adds up to about 1
Gbyte, but you should be able to download a much smaller subset than
that.<br>
<br>
<br>
Author:&nbsp;&nbsp;&nbsp; Bill Chapman<br>
</small></big><br>
</body>
</html>
